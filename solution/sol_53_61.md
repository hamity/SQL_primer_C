```sql
mysql> select
    名称 as なまえ,
    HP as 現在のHP,
    round(HP / (
        select sum(HP)
        from パーティー
        ), 1) as パーティーでの割合
    from パーティー
    where 職業コード = '01'; -- 53

mysql> update パーティー
    set MP = MP + round((
        select sum(MP)
        from (select * from パーティー) as tmp -- (これがないと副問い合わせ時に同じテーブルを参照しようとし、テーブルロックがかかってエラー)
        where 職業コード <> '20'
    ) * 0.1, 0)
    where 職業コード = '20'; -- 54

mysql> select 
    from 経験イベント
    where クリア区分 = '1'
```